
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Loadbalancer as a Service &mdash; Neutron 2014.2.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2014.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Neutron 2014.2.3 documentation" href="../index.html" />
    <link rel="up" title="Advanced Services" href="advanced_services.html" />
    <link rel="next" title="VPN as a Service" href="vpnaas.html" />
    <link rel="prev" title="Firewall as a Service" href="fwaas.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="loadbalancer-as-a-service">
<h1>Loadbalancer as a Service<a class="headerlink" href="#loadbalancer-as-a-service" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://wiki.openstack.org/wiki/Neutron/LBaaS/Architecture">https://wiki.openstack.org/wiki/Neutron/LBaaS/Architecture</a></p>
<p><a class="reference external" href="https://wiki.openstack.org/wiki/Neutron/LBaaS/API_1.0">https://wiki.openstack.org/wiki/Neutron/LBaaS/API_1.0</a></p>
<div class="section" id="module-neutron.services.loadbalancer.plugin">
<span id="plugin"></span><h2>Plugin<a class="headerlink" href="#module-neutron.services.loadbalancer.plugin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="neutron.services.loadbalancer.plugin.LoadBalancerPlugin">
<em class="property">class </em><tt class="descclassname">neutron.services.loadbalancer.plugin.</tt><tt class="descname">LoadBalancerPlugin</tt><a class="headerlink" href="#neutron.services.loadbalancer.plugin.LoadBalancerPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the Neutron Loadbalancer Service Plugin.</p>
<p>This class manages the workflow of LBaaS request/response.
Most DB related works are implemented in class
loadbalancer_db.LoadBalancerPluginDb.</p>
<dl class="method">
<dt id="neutron.services.loadbalancer.plugin.LoadBalancerPlugin.populate_vip_graph">
<tt class="descname">populate_vip_graph</tt><big>(</big><em>context</em>, <em>vip</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.plugin.LoadBalancerPlugin.populate_vip_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the vip with: pool, members, healthmonitors.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-neutron.db.loadbalancer.loadbalancer_db">
<span id="database-layer"></span><h2>Database layer<a class="headerlink" href="#module-neutron.db.loadbalancer.loadbalancer_db" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb">
<em class="property">class </em><tt class="descclassname">neutron.db.loadbalancer.loadbalancer_db.</tt><tt class="descname">LoadBalancerPluginDb</tt><a class="headerlink" href="#neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps loadbalancer with SQLAlchemy models.</p>
<p>A class that wraps the implementation of the Neutron loadbalancer
plugin database access interface using SQLAlchemy models.</p>
<dl class="method">
<dt id="neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb.delete_health_monitor">
<tt class="descname">delete_health_monitor</tt><big>(</big><em>context</em>, <em>id</em><big>)</big><a class="headerlink" href="#neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb.delete_health_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete health monitor object from DB</p>
<p>Raises an error if the monitor has associations with pools</p>
</dd></dl>

<dl class="method">
<dt id="neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb.update_pool_stats">
<tt class="descname">update_pool_stats</tt><big>(</big><em>context</em>, <em>pool_id</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#neutron.db.loadbalancer.loadbalancer_db.LoadBalancerPluginDb.update_pool_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a pool with new stats structure.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-neutron.services.loadbalancer.drivers.abstract_driver">
<span id="driver-layer"></span><h2>Driver layer<a class="headerlink" href="#module-neutron.services.loadbalancer.drivers.abstract_driver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver">
<em class="property">class </em><tt class="descclassname">neutron.services.loadbalancer.drivers.abstract_driver.</tt><tt class="descname">LoadBalancerAbstractDriver</tt><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract lbaas driver that expose ~same API as lbaas plugin.</p>
<p>The configuration elements (Vip,Member,etc) are the dicts that
are returned to the tenant.
Get operations are not part of the API - it will be handled
by the lbaas plugin.</p>
<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_member">
<tt class="descname">create_member</tt><big>(</big><em>context</em>, <em>member</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_member" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_status(context, Member, member[&#8220;id&#8221;],
constants.ACTIVE)</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_pool">
<tt class="descname">create_pool</tt><big>(</big><em>context</em>, <em>pool</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_status(context, Pool, pool[&#8220;id&#8221;],
constants.ACTIVE)</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_pool_health_monitor">
<tt class="descname">create_pool_health_monitor</tt><big>(</big><em>context</em>, <em>health_monitor</em>, <em>pool_id</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_pool_health_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_pool_health_monitor(context,
health_monitor[&#8220;id&#8221;],
pool_id,
constants.ACTIVE)</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_vip">
<tt class="descname">create_vip</tt><big>(</big><em>context</em>, <em>vip</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.create_vip" title="Permalink to this definition">¶</a></dt>
<dd><p>A real driver would invoke a call to his backend
and set the Vip status to ACTIVE/ERROR according
to the backend call result
self.plugin.update_status(context, Vip, vip[&#8220;id&#8221;],</p>
<blockquote>
<div>constants.ACTIVE)</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.delete_pool">
<tt class="descname">delete_pool</tt><big>(</big><em>context</em>, <em>pool</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.delete_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver can call the code below in order to delete the pool.
self.plugin._delete_db_pool(context, pool[&#8220;id&#8221;])
or set the status to ERROR if deletion failed</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.delete_vip">
<tt class="descname">delete_vip</tt><big>(</big><em>context</em>, <em>vip</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.delete_vip" title="Permalink to this definition">¶</a></dt>
<dd><p>A real driver would invoke a call to his backend
and try to delete the Vip.
if the deletion was successful, delete the record from the database.
if the deletion has failed, set the Vip status to ERROR.</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_member">
<tt class="descname">update_member</tt><big>(</big><em>context</em>, <em>old_member</em>, <em>member</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_member" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_status(context, Member,
member[&#8220;id&#8221;], constants.ACTIVE)</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_pool">
<tt class="descname">update_pool</tt><big>(</big><em>context</em>, <em>old_pool</em>, <em>pool</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_status(context,
Pool,
pool[&#8220;id&#8221;], constants.ACTIVE)</p>
</dd></dl>

<dl class="method">
<dt id="neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_vip">
<tt class="descname">update_vip</tt><big>(</big><em>context</em>, <em>old_vip</em>, <em>vip</em><big>)</big><a class="headerlink" href="#neutron.services.loadbalancer.drivers.abstract_driver.LoadBalancerAbstractDriver.update_vip" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver may call the code below in order to update the status.
self.plugin.update_status(context, Vip, id, constants.ACTIVE)</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Loadbalancer as a Service</a><ul>
<li><a class="reference internal" href="#module-neutron.services.loadbalancer.plugin">Plugin</a></li>
<li><a class="reference internal" href="#module-neutron.db.loadbalancer.loadbalancer_db">Database layer</a></li>
<li><a class="reference internal" href="#module-neutron.services.loadbalancer.drivers.abstract_driver">Driver layer</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="fwaas.html"
                                  title="previous chapter">Firewall as a Service</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="vpnaas.html"
                                  title="next chapter">VPN as a Service</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/devref/lbaas.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="vpnaas.html" title="VPN as a Service"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fwaas.html" title="Firewall as a Service"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Neutron 2014.2.3 documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer Guide</a> &raquo;</li>
          <li><a href="advanced_services.html" accesskey="U">Advanced Services</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011-present, OpenStack Foundation..
      Last updated on Mar 10, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/Neutron");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>